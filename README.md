# auto-guitar-tuner
The goal of this project, as described by the name, was to create an embedded system that automatically tunes any guitar (for this project, we used an acoustic guitar). Our system employs two sound sensors to capture the audio signals generated by plucking the guitar strings. We also have a button along with six LEDs for the user to click through and select the string that they want to tune. Upon selecting a string to tune, the user can attach the motor to the guitar peg of that string, pluck the string, and the motor will automatically rotate to tune the guitar. When the string is in tune, an indicator LED will turn green to indicate that the selected guitar string is in tune (will be off when the string is out-of-tune). By automating the tuning process, our project seeks to offer guitarists a convenient and efficient solution for achieving optimal tuning accuracy without the need for manual adjustment, especially for enthusiasts without musically trained ears.

## Materials
The following list provides the supplies necessary for completing this project:
- Arduino Uno Microcontroller
- RGB Led
- 6LEDs
- Button (we used a rotary encoder push switch but any button will do)
- Sound Sensors
- KY-037
- GY MAX4466
- Geared DC Motor
- Torque @ Max. Efficiency (g-cm) = 850
- 30:1 Gear Ratio
- 12V DC Power Supply
- 7 Resistors (330Ω)
- Tuning Peg Attachment/Gripper (3D printed)
- Jumper Wires

## Design Process
### Note Selection:
For selecting the note, we originally had a rotary encoder and an I2C display, where the user would be able to turn the rotary encoder to select a particular string they want to tune which would be displayed on the I2C display. However, when combining this logic with our Fast-Fourier Transform (FFT) for frequency detection, it posed an issue where we did not have enough memory for the rest of our program, as we were using around 85% of the dynamic memory (RAM) on our Arduino Uno. Given this, we initially attempted to use smaller variable types where it was possible, but ultimately we decided to change the hardware. We opted for instead using 6 leds, which the user could select through using a button, to select the note they want to tune for. While we did not end up using the I2C display and rotary encoder logic in our final implementation, we included it in final directory (“GuitarTunerV4/Component_Unit_Tests/TestNoteSelection/TestNoteSelection.ino”) as we believe it is still very interesting and someone else would gain inspiration from it.

### Tuning Motor + Attachment:
The design process for the tuning motor and attachment was very straightforward (although we did encounter a lot of different problems). The general idea was to use a stepper motor and a motor driver to precisely turn the motor, which would turn the pegs and tune the guitar string based on our audio signal processing. Furthermore, we designed our own guitar peg gripper, 3D printed it, and attached it to our motor (see Figures 1 below). Later into our engineering process, we encountered an issue with the stepper motor not having enough torque to turn the guitar pegs, and so we shifted to a motor with more torque (see Problems Encountered).

### Audio Signal Detection:
We used a KY-037 High Sensitivity Sound module to detect the presence of sound, and a GY MAX4466 Sound Module for a precise analog reading of the sound. By sampling the analog signal and applying a Fast Fourier Transform, we were able to retrieve the frequency of the note being played by the guitar. However, the strings of our guitar did not produce a pure tone, and the sound module displayed some bias in the results. In order to account for this error, we played each string of our tuned guitar and sampled the frequencies we got from our sound sensor, taking the average frequency of ten samples for each string. Most of the frequency recordings we recorded were very similar to the expected values. As an example, for the D-string we received an average frequency of 148.85Hz (the actual frequency of D3 is 146.83Hz). Thus, when tuning the D-string, we set the target frequency to our sampled value.

Please read through "projectDescription/description.pdf" for a more detailed explanation of our project!
